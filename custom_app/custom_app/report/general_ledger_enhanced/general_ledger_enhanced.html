<h2 class="text-center">{%= __("Statement of Account") %}</h2>

<h5 class="text-left">
    {%= __("DATE FROM") %}
    {%= frappe.datetime.str_to_user(filters.from_date) %}
	{%= __("TO") %}
	{%= frappe.datetime.str_to_user(filters.to_date) %}
</h5>

<h5 class="text-left">
    {% if (filters.party) { %}
    {%= filters.party_type %} 	{%= __("name:") %}
    {%= filters.party %}
	{% } %}
</h5>

<h5 class="text-left">
    {% if (filters.party) { %}
    {%= filters.party_type %} 	{%= __("code:") %}
    {%= filters.party_code %}
	{% } %}
</h5>

<h5 class="text-left">
	{% if (filters.customer_group) { %}
	{%= __("Vat ID:")%}   {%= filters.vat_id %}
	{% } %}
</h5>

<h5 class="text-left">
	{% if (filters.tax_id) { %}
	{%= __("Vat Id: ")%}	{%= filters.tax_id %}
	{% } %}
</h5>


<hr>
<table class="table table-bordered">
	<thead>
		<tr>
			<th style="width: 8%">{%= __("Date") %}</th>
			<th style="width: 15%">{%= __("Description") %}</th>
			<th style="width: 25%">{%= __("Document Reference") %}</th>
			<th style="width: 9%">{%= __("Customer Name") %}</th>
			<th style="width: 8%">{%= __("Debit") %}</th>
			<th style="width: 8%">{%= __("Credit") %}</th>
			<th style="width: 18%">{%= __("Balance") %}</th>
		</tr>
	</thead>
	<tbody>
		{% for(var i=0, l=data.length; i<l; i++) { %}
			<tr>
			{% if(data[i].posting_date) { %}
                <td>{%= frappe.datetime.str_to_user(data[i].posting_date) %}</td>
                <td>  {%= data[i].remarks %} </td>
				<td>{%= data[i].voucher_type %} <br>{%= data[i].voucher_no %}</td>
				<td> {% if (filters.party) { %}  {%= filters.party %} {% } %}</td>
                <td style="text-align: right">
                    {%= format_currency(data[i].debit, filters.presentation_currency) %}</td>
                <td style="text-align: right">
                    {%= format_currency(data[i].credit, filters.presentation_currency) %}</td>
			{% } else { %}
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td style="text-align: right">
					{%= data[i].account && format_currency(data[i].debit, filters.presentation_currency) %}
				</td>
				<td style="text-align: right">
					{%= data[i].account && format_currency(data[i].credit, filters.presentation_currency) %}
				</td>
			{% } %}
				<td style="text-align: right">
					{%= format_currency(data[i].balance, filters.presentation_currency) %}
				</td>
			</tr>
		{% } %}
	</tbody>
</table>
<p class="text-right text-muted">Printed On {%= frappe.datetime.str_to_user(frappe.datetime.get_datetime_as_string()) %}</p>
